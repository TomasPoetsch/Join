<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add task</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/favicon.png">

    <link rel="stylesheet" href="../style.css">
    <script src="../scripts/template.js" defer></script>
    <script src="../scripts/firebase.js" defer></script>
    <script src="../script.js" defer></script>
    <script src="../scripts/utils.js" defer></script>
    <script type="module" src="../scripts/state.js" defer></script>
    <script src="../scripts/add-task.js" defer></script>

</head>

<body onload="renderFormData()">
    <header class="header-bar">
        <a href="./summary.html" class="header-bar-logo"><img src="../assets/svg/join-logo-vector-dark.svg" alt=""></a>
        <span class="kanban-title">Kanban Project Management Tool</span>
        <div class="header-bar-menu">
            <a onclick="savePath()" class="help-link"><img src="../assets/svg/questionmark-icon.svg" alt="" class="help-icon"></a>
            <div class="user-initials-container" id="user-initials-container" onclick="toggleLogoutMenu()">
                <span class="user-initials"></span>
            </div>
            <div class="logout-menu d-none" id="logout-menu">
                <a href="./legal-notice.html">Legal Notice</a>
                <a href="./privacy-policy.html">Privacy Policy</a>
                <a id="log-out">Logout</a>
            </div>
        </div>
    </header>

    <aside class="side-menu">
        <div class="side-menu-top-container">
            <img src="../assets/svg/Join logo vector.svg" alt="join logo" class="side-menu-icon">
            <nav class="site-navigation">
                <div class="side-menu-link-container"><a href="./summary.html" class="side-menu-link"><img
                            src="../assets/svg/summary-icon-unselected.svg" alt="">Summary</a></div>
                <div class="side-menu-link-container side-menu-link-current"><a href="./add-task.html" class="side-menu-link"><img
                            src="../assets/svg/add-task-selected.svg" alt="">Add Task</a></div>
                <div class="side-menu-link-container"><a href="./board.html" class="side-menu-link"><img
                            src="../assets/svg/board-icon-unselected.svg" alt="">Board</a></div>
                <div class="side-menu-link-container"><a href="./contacts.html" class="side-menu-link"><img
                            src="../assets/svg/contacts-unselected.svg" alt="">Contacts</a></div>
            </nav>
        </div>
        <div class="side-menu-bottom-container">
            <nav class="footer-navigation">
                <a href="./privacy-policy.html" class="footer-navigation-link">Privacy Policy</a>
                <a href="./legal-notice.html" class="footer-navigation-link">Legal notice</a>
            </nav>
        </div>
    </aside>

    <main>
        <div class="container">
            <div class="add-task">
                <div class="add-task-title">
            <h1>Add Task</h1>
        </div>
            <div class="linksrechts"> 
          
                <div class="left-side">
                    <form id="taskForm">
                        <label for="title">Title:<span class="required">*</span></label><br>
                        <input type="text" id="title" name="title" placeholder="Enter a title" required><br><br> 
                        <label for="description">Description:</label><br>
                        <textarea id="description" name="description" rows="4" cols="50" placeholder="Enter a Description"></textarea><br><br> 
                        <label for="dueDate">Due date:<span class="required">*</span></label><br>
                        <input type="date" id="dueDate" class="task-input" required>
                    </form>
                </div>
                <div class="separator"></div>
    
                <div class="right-side">
                    <form>
                        <label for="priority">Priority</label><br>
                   
                            <div class="button-group">
                                <button type="button" class="priority-button" data-priority="urgent" onclick="setPriority(this, 'red')">
                                    Urgent
                                    <img src="../assets/svg/priority-icons/priority-urgent.svg" alt="Urgent" class="icon">
                                </button>
                                <button type="button" class="priority-button" data-priority="medium" onclick="setPriority(this, 'orange')">
                                    Medium
                                    <img src="../assets/svg/priority-icons/priority-medium.svg" alt="Medium" class="icon">
                                </button>
                                <button type="button" class="priority-button" data-priority="low" onclick="setPriority(this, 'green')">
                                    Low
                                    <img src="../assets/svg/priority-icons/priority-low.svg" alt="Low" class="icon">
                                </button>
                            </div>   
                        <br>      

          <label for="assignedTo">Assigned to</label><br>
        <div class="dropdown" id="assignedTo">
          
            

   <input type="text" class="task-overlay-editor-assigned-selection" placeholder="Select contacts to assign" onfocus="openAssignedSelection()">
                        <div id="addTaskAssignedToInput-" class="task-overlay-editor-assigned-selection d-none">
                           
                        </div>
</div>   <br><br>


        <label for="category">Category<span class="required">*</span></label><br>
        <select id="category" name="category" class="dropdown" required>
            <option value="" disabled selected>Select task category</option>
            <option value="technical_task">Technical Task</option>
            <option value="user_story">User Story</option>
                        </select><br><br>
                        <label for="subtask">Subtasks</label><br>
                        <input type="text" id="subtask" name="subtask" placeholder="Add new subtask"><br><br>
                    </form>      
                </div>
        </div>

        <div class="required-clear-create">
            <span><span class="required">*</span> This field is required</span>
            <div id="errorMessageContainer" class="error-message" style="display:none; color: red;">
                <span><span class="required">*</span> Please fill in all required fields</span>
            </div>
            <div class="button-container">
                <input type="button" value="Clear" id="clearButton">
                <input type="button" value="Create Task" id="createButton" onclick="createTask()">

        </div>
</div>
<div id="message" class="message"></div>
    </main>

    <footer class="footer">
        <nav class="footer-nav">
            <div class="footer-link-container"><a href="./summary.html" class="footer-link"><img
                        src="../assets/svg/summary-icon-unselected.svg" alt="">Summary</a></div>
            <div class="footer-link-container side-menu-link-current"><a href="./add-task.html" class="footer-link"><img
                        src="../assets/svg/add-task-unselected.svg" alt="">Add Task</a></div>
            <div class="footer-link-container"><a href="./board.html" class="footer-link"><img
                        src="../assets/svg/board-icon-selected.svg" alt="">Board</a></div>
            <div class="footer-link-container"><a href="./contacts.html" class="footer-link"><img
                        src="../assets/svg/contacts-unselected.svg" alt="">Contacts</a></div>
        </nav>
    </footer>

</body>

</html>